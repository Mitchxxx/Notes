elk

docker network create --driver overlay elk

https://github.com/vfarcic/cloud-provisioning
https://github.com/vfarcic/cloud-provisioning/blob/master/conf/logstash.conf



docker service create \
  --name elasticsearch \
  --network elk \
  --reserve-memory 500m \
  elasticsearch:2.4


FROM logstash

RUN mkdir /config/
COPY conf/logstash.conf /config/

CMD ["-f", "/config/logstash.conf"]



<<<<<<< HEAD

docker service create --name logstash --network elk -e LOGSPOUT=ignore --reserve-memory 100m imranawan/logstash:latest

docker service create --name logstash --network elk --mount "type=bind,source=$PWD/docker/logstash,target=/conf" -e LOGSPOUT=ignore --reserve-memory 100m logstash:2.4 logstash -f /conf/logstash.conf
=======
--mount "type=bind,source=/home/docker/logstash,target=/conf" \
docker service create --name logstash \
  --network elk \
  -e LOGSPOUT=ignore \
  --reserve-memory 100m \
  logstash:latest logstash -f /conf/logstash.conf

>>>>>>> 129256600ffa9ee58ee478348cd5227b8c807d61


docker service create --name logger-test \
  --network elk \
  --restart-condition none \
  debian \
  logger -n logstash -P 51415 hello world

<<<<<<< HEAD


docker service create --name logspout \
 --network elk \
 --mode global \
 --mount "type=bind,source=/var/run/docker.sock,target=/var/run/docker.sock" \
 -e SYSLOG_FORMAT=rfc3164 \
 gliderlabs/logspout syslog://logstash:51415


docker service create --name registry \
-p 5000:5000 \
--reserve-memory 100m \
registry


docker service create --name kibana --network elk --network proxy-network -p 5601:5601 -e ELASTICSEARCH_URL=http://elasticsearch:9200 --reserve-memory 50m --label traefik.port=5601 --label traefik.frontend.rule="Host:kibana.traefik" kibana:4.6

docker service create --name kibana \
 --network elk \
 --network proxy-network \
 -p 5601:5601 \
 -e ELASTICSEARCH_URL=http://elasticsearch:9200 \
 --reserve-memory 50m \ 
 --label traefik.port=5601 \
 --label traefik.frontend.rule="Host:kibana.traefik" \
 kibana:4.6


********************************************************************

=======
>>>>>>> 129256600ffa9ee58ee478348cd5227b8c807d61
